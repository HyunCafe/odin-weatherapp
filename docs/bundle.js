(()=>{"use strict";const e=e=>{const t=e.toLowerCase();return t.includes("sunny")||t.includes("clear")?t.includes("night")?"wi-night-clear":"wi-day-sunny":t.includes("cloudy")||t.includes("intermittent")||t.includes("partly")?t.includes("night")?"wi-night-alt-cloudy":"wi-day-cloudy":t.includes("rain")||t.includes("showers")||t.includes("storms")?"wi-rain":t.includes("snow")||t.includes("flurries")?"wi-snow":t.includes("sleet")||t.includes("ice")?"wi-sleet":t.includes("wind")||t.includes("breezy")?"wi-windy":t.includes("fog")||t.includes("hazy")?"wi-fog":""},t="X5Sip7uKIkUGYS3EZUnarLLlYZRdRWAg",n=document.getElementById("searchQuery");async function a(n){try{const a=`https://dataservice.accuweather.com/locations/v1/cities/search?apikey=${t}&q=${encodeURIComponent(n)}`,o=await fetch(a);if(!o.ok)throw new Error("Network response was not ok");const r=await o.json();if(0===r.length)return void console.error("No locations found for the search query");const c=r[0].Key,s=`https://dataservice.accuweather.com/forecasts/v1/daily/5day/${c}?apikey=${t}&details=true`,i=await fetch(s);if(!i.ok)throw new Error("Network response was not ok");const l=`https://dataservice.accuweather.com/forecasts/v1/hourly/12hour/${c}?apikey=${t}`,u=await fetch(l);if(!u.ok)throw new Error("Network response was not ok");const d=await u.json(),m=await i.json();m.location=r[0],(t=>{const n=document.querySelector(".weekly-forecast__icon"),a=document.getElementById("currentWeatherCity"),o=document.getElementById("currentWeatherDegrees"),r=document.getElementById("currentWeatherCondition"),c=document.getElementById("currentWeatherRainProbability"),s=document.getElementById("currentWeatherLowHigh"),i=document.getElementById("currentWeatherUV");a.textContent=t.location.LocalizedName,o.textContent=`${t.DailyForecasts[0].Temperature.Minimum.Value}°`,r.textContent=t.DailyForecasts[0].Day.IconPhrase,c.textContent=`${t.DailyForecasts[0].Day.PrecipitationProbability}% Probability of Rain`,s.textContent=`${t.DailyForecasts[0].Temperature.Minimum.Value}° Low / ${t.DailyForecasts[0].Temperature.Maximum.Value}° High`;const l=t.DailyForecasts[0].Day.IconPhrase,u=e(l);var d;n.className=`weekly-forecast__icon wi ${u}`,t.DailyForecasts[1].AirAndPollen.find((e=>"UVIndex"===e.Name)).Value,i.textContent=(d=t.DailyForecasts[0].AirAndPollen[5].Value)>=0&&d<=2?`Low UV Levels ${d}`:d>=3&&d<=5?`Moderate UV Levels ${d}`:d>=6&&d<=7?`High UV Levels ${d}`:d>=8&&d<=10?`Very High UV Levels ${d}`:d>=11?`Extreme UV Levels ${d}`:`Unknown UV Levels ${d}`})(m),(t=>{const n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];for(let a=1;a<=4;a++){const o=document.getElementById(`forecastDay${a}`),r=t.DailyForecasts[a],c=o.querySelector(".weekly-forecast__weekday"),s=o.querySelector(".weekly-forecast__condition"),i=o.querySelector(".weekly-forecast__degrees"),l=o.querySelector(".weekly-forecast__icon"),u=n[new Date(r.Date).getDay()];c.textContent=u,s.textContent=r.Day.IconPhrase,i.textContent=`${r.Temperature.Minimum.Value}° Low / ${r.Temperature.Maximum.Value}° High`;const d=e(r.Day.IconPhrase);l.className=`weekly-forecast__icon wi ${d}`}})(m),(e=>{const t=e.DailyForecasts[0].Temperature.Maximum.Value,n=e.DailyForecasts[0].Temperature.Minimum.Value,a=Math.round(Math.exp(17.625*n/(243.04+n))/Math.exp(17.625*t/(243.04+t))*100);document.getElementById("humidity").textContent=`${a}%`})(m),function(t){const n=document.querySelector(".hourly-forecast__timeline");n.textContent="";for(let a=0;a<12;a++){const o=t[a],r=new Date(o.DateTime).toLocaleTimeString("en-US",{hour:"numeric"}),c=o.IconPhrase,s=`wi ${e(c)}`,i=Math.round(o.Temperature.Value),l=document.createElement("div");l.className="hourly-forecast__item";const u=document.createElement("div");u.className="hourly-forecast__time",u.textContent=r;const d=document.createElement("div");d.className="hourly-forecast__condition";const m=document.createElement("span");m.textContent=c;const y=document.createElement("i");y.className=s;const h=document.createElement("div");h.className="hourly-forecast__degrees",h.textContent=`${i}°`,d.appendChild(m),d.appendChild(document.createElement("br")),d.appendChild(y),l.appendChild(u),l.appendChild(d),l.appendChild(h),n.appendChild(l)}}(d)}catch(e){console.error("There was a problem with the fetch operation:",e)}}document.getElementById("searchForm").addEventListener("submit",(e=>{e.preventDefault(),a(n.value)})),a("Chicago")})();